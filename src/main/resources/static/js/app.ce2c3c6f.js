(function(e){function t(t){for(var n,o,i=t[0],s=t[1],l=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(p.length)p.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},c=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"0af7":function(e,t,a){},"15d7":function(e,t,a){"use strict";a("0af7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-no-drag",attrs:{id:"layout"},on:{click:e.clearSelectedCategory}},[a("div",{staticClass:"header"},[a("table",[e._m(0),a("tbody",[a("tr",[a("td",{staticClass:"data"},[a("table",[e._m(1),a("tbody",[a("tr",[a("td",{staticClass:"opt-body scroll no-scrollbar"},[a("ul",e._l(e.data,(function(t,n){return a("li",{key:n},[a("input",{class:e.selectedData==t?"on":"",attrs:{type:"button",value:t},on:{click:function(a){return e.setSelectedData(t)}}})])})),0)])])])])]),a("td",{staticClass:"x-axis"},[a("table",[e._m(2),a("tbody",[a("tr",[a("td",{staticClass:"opt-body scroll no-scrollbar"},[a("ul",e._l(e.xAxis,(function(t,n){return a("li",{key:n},[a("input",{attrs:{type:"button",value:t},on:{click:function(t){return e.removeXAxis(t.target.value)}}})])})),0)])])])])])]),a("tr",[a("td",{staticClass:"category"},[a("table",[e._m(3),a("tbody",[a("tr",[a("td",{staticClass:"opt-body"},[a("ul",{staticClass:"scroll no-scrollbar"},e._l(e.categories[e.selectedData],(function(t,n){return a("li",{key:n},[a("input",{class:-1!=e.selectedCategories.indexOf(t)?"on":"",attrs:{type:"button",value:t},on:{click:function(t){return t.stopPropagation(),e.setSelectedCategory(t.target.value)}}})])})),0),a("div",[a("div",{on:{click:function(t){return t.stopPropagation(),e.addX.apply(null,arguments)}}},[e._v("X")]),a("div",{on:{click:function(t){return t.stopPropagation(),e.addY.apply(null,arguments)}}},[e._v("Y")])])])])])])]),a("td",{staticClass:"y-axis"},[a("table",[e._m(4),a("tbody",[a("tr",[a("td",{staticClass:"opt-body scroll no-scrollbar"},[a("ul",e._l(e.yAxis,(function(t,n){return a("li",{key:n},[a("input",{attrs:{type:"button",value:t},on:{click:function(t){return e.removeYAxis(t.target.value)}}})])})),0)])])])])])])])])]),a("div",{staticClass:"chart"},[a("table",[a("thead",[a("tr",[a("th",{attrs:{colspan:"2"}},[a("div",{class:["select-chart-btn","line"==e.selectedChartType?"on":""],on:{click:function(t){return e.setSelectedChartType("line")}}},[a("div",[a("font-awesome-icon",{attrs:{size:"5x",icon:["fa","chart-line"]}}),a("div",[e._v("Line Chart")])],1)]),a("div",{class:["select-chart-btn","bar"==e.selectedChartType?"on":""],on:{click:function(t){return e.setSelectedChartType("bar")}}},[a("div",[a("font-awesome-icon",{attrs:{size:"5x",icon:["fa","chart-bar"]}}),a("div",[e._v("Bar Chart")])],1)]),a("div",{class:["select-chart-btn","area"==e.selectedChartType?"on":""],on:{click:function(t){return e.setSelectedChartType("area")}}},[a("div",[a("font-awesome-icon",{attrs:{size:"5x",icon:["fa","chart-area"]}}),a("div",[e._v("Area Chart")])],1)]),a("div",{class:["select-chart-btn","pie"==e.selectedChartType?"on":""],on:{click:function(t){return e.setSelectedChartType("pie")}}},[a("div",[a("font-awesome-icon",{attrs:{size:"5x",icon:["fa","chart-pie"]}}),a("div",[e._v("Pie Chart")])],1)])])])]),a("tbody",[a("tr",[a("td"),a("td",[a("map-component")],1)])])])])])},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("colgroup",[a("col",{staticStyle:{width:"50%"}}),a("col",{staticStyle:{width:"50%"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticClass:"opt-head"},[e._v("데이터 분류")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticClass:"opt-head"},[e._v("X축")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticClass:"opt-head"},[e._v("데이터 항목")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticClass:"opt-head"},[e._v("Y축(값)")])])])}],o=a("5530"),i=a("2f62"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"map"})},l=[],u=a("1da1"),d=(a("96cf"),a("d81d"),a("c740"),a("99af"),a("dca8"),a("bc3a")),p=a.n(d),f=a("d4ec"),E=a("bee2"),m=(a("159b"),a("d3b7"),a("25f0"),null),_=function(){function e(t){var a=this;Object(f["a"])(this,e),this.map=null,this.markers=null;var n=function(){m=window.kakao,a.markers=[],a.map=new m.maps.Map(t,{center:new m.maps.LatLng(36.020826,127.0236867),level:12}),a.map.addOverlayMapTypeId(m.maps.MapTypeId.TERRAIN)};window.kakao&&window.kakao.maps?n():function(){m=window.kakao;var e=document.createElement("script");e.onload=function(){return m.maps.load(n)},e.src="http://dapi.kakao.com/v2/maps/sdk.js?appkey=49de92eb0925ee0b9eeeb0970c0e98b7&libraries=services,clusterer,drawing",document.head.appendChild(e)}()}return Object(E["a"])(e,[{key:"setMapType",value:function(e){this.map.setMapTypeId(m.maps.MapTypeId[e])}},{key:"addMarker",value:function(e,t,a,n){var r=this,c=new m.maps.Marker({map:this.map,position:new m.maps.LatLng(e,t),image:new m.maps.MarkerImage(n,new m.maps.Size(18,18))}),o=new m.maps.InfoWindow({content:a});m.maps.event.addListener(c,"mouseover",(function(){return o.open(r.map,c)})),m.maps.event.addListener(c,"mouseout",(function(){return o.close()})),this.markers.push({marker:c,infoWindow:o})}},{key:"clustering",value:function(e){null!=this.clusterer&&this.clusterer.clear(),this.clusterer=new m.maps.MarkerClusterer({map:this.map,averageCenter:!0,minLevel:10}),this.clusterer.addMarkers(e.map((function(e){var t=e.latitude,a=e.longitude;return new m.maps.Marker({position:new m.maps.LatLng(t,a)})})))}},{key:"setOverlay",value:function(e){var t=this,a=this.clusterer._markers;a.forEach((function(a){var n=a.getPosition(),r=[n.Ma,n.La],c=r[0],o=r[1],i=document.createElement("div");i.innerHTML="function"===typeof e?e(c,o):e.toString(),i=i.querySelector("div.overlay"),i.onmouseleave=function(){return s.setVisible(!1)};var s=new m.maps.CustomOverlay({map:t.map,content:i,position:new m.maps.LatLng(c,o),zIndex:999});s.setVisible(!1),m.maps.event.addListener(a,"mouseover",(function(){return s.setVisible(!0)}))}))}}]),e}(),v={name:"Map",data:function(){return{map:null,data:[]}},computed:Object(o["a"])({},Object(i["c"])({selectedData:function(e){return e.selectedData}})),watch:{selectedData:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e.map,t.next=3,p.a.get("/stations/".concat(e.selectedData.toLowerCase())).then((function(e){return e.data}));case 3:t.t1=t.sent.map((function(e){return{latitude:e.latitude,longitude:e.longitude}})),t.t0.clustering.call(t.t0,t.t1),e.map.setOverlay(e.overlayCallback);case 6:case"end":return t.stop()}}),t)})))()}},methods:{overlayCallback:function(e,t){var a=this.data.findIndex((function(a){return Math.abs(a.latitude-e)<=1e-7&&Math.abs(a.longitude-t)<=1e-7})),n=this.data&&-1!==a?this.data[a].address:"주소정보가 존재하지 않습니다.",r=[Math.round(10*e)/10,Math.round(10*t)/10];return e=r[0],t=r[1],'\n                <div class="overlay">\n                    <h4>'.concat(n,"</h4>\n                    <p>\n                        <div>위도: ").concat(e,"</div>\n                        <div>경도: ").concat(t,"</div>\n                    </p>\n                </div>")}},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.map=new _(e.$refs["map"]),e.map.setMapType("SKYVIEW"),t.next=4,p.a.get("/stations/".concat(e.selectedData.toLowerCase())).then((function(e){return e.data}));case 4:a=t.sent,e.data=Object.freeze(a),e.map.clustering(a.map((function(e){return{latitude:e.latitude,longitude:e.longitude}}))),e.map.setOverlay(e.overlayCallback);case 8:case"end":return t.stop()}}),t)})))()}},h=v,C=(a("15d7"),a("2877")),b=Object(C["a"])(h,s,l,!1,null,null,null),A=b.exports,y={name:"App",components:{MapComponent:A},computed:Object(o["a"])({},Object(i["c"])({data:function(e){return e.data},selectedData:function(e){return e.selectedData},categories:function(e){return e.categories},selectedCategories:function(e){return e.selectedCategories},xAxis:function(e){return e.xAxis},yAxis:function(e){return e.yAxis},selectedChartType:function(e){return e.selectedChartType}})),methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])({setSelectedData:"SET_SELECTED_DATA",setSelectedCategory:"SET_SELECTED_CATEGORY",removeSelectedCategory:"REMOVE_SELECTED_CATEGORY",clearSelectedCategory:"CLEAR_SELECTED_CATEGORY",addXAxis:"ADD_X_AXIS",removeXAxis:"REMOVE_X_AXIS",addYAxis:"ADD_Y_AXIS",removeYAxis:"REMOVE_Y_AXIS",setSelectedChartType:"SET_SELECTED_CHART_TYPE"})),{},{addX:function(){this.addXAxis(this.selectedCategories),this.removeSelectedCategory(this.selectedCategories),this.clearSelectedCategory()},addY:function(){this.addYAxis(this.selectedCategories),this.removeSelectedCategory(this.selectedCategories),this.clearSelectedCategory()},moveXAxisToCategories:function(){}})},O=y,T=(a("034f"),Object(C["a"])(O,r,c,!1,null,null,null)),S=T.exports,g=a("ade3");a("a434"),a("4e82");n["a"].use(i["a"]);var x=new i["a"].Store({state:{data:["AIRKOREA","AIRMAP","OBSERVER"],selectedData:"AIRKOREA",categories:{AIRKOREA:["CO","NO2","O3","PM10","PM2.5","SO2"],AIRMAP:["HUMDT_MSR_AVG_VAL","PM10_MSR_AVG_VAL","PM25_MSR_AVG_VAL","TEMPR_MSR_AVG_VAL"],OBSERVER:["PM25","PM25_R","PRE","PTY","REH","TMP"]},selectedCategories:[],xAxis:[],yAxis:[],selectedChartType:"line"},getters:{},mutations:{SET_SELECTED_DATA:function(e,t){return e.selectedData=t},SET_SELECTED_CATEGORY:function(e,t){var a=e.selectedCategories.concat();-1===a.indexOf(t)&&a.push(t),e.selectedCategories=Object.freeze(a)},REMOVE_SELECTED_CATEGORY:function(e,t){var a=e.categories[e.selectedData].concat();t.forEach((function(e){var t=a.indexOf(e);-1!==t&&a.splice(t,1)})),e.categories=Object.freeze(Object(o["a"])(Object(o["a"])({},e.categories),{},Object(g["a"])({},e.selectedData,Object.freeze(a))))},CLEAR_SELECTED_CATEGORY:function(e){return e.selectedCategories=[]},ADD_X_AXIS:function(e,t){var a=e.xAxis.concat();t.forEach((function(e){-1===a.indexOf(e)&&a.push(e)})),a.sort(),e.xAxis=Object.freeze(a)},REMOVE_X_AXIS:function(e,t){var a=e.xAxis.concat(),n=a.indexOf(t);if(-1!==n){a.splice(n,1);var r=e.categories[e.selectedData].concat(t);r.sort(),e.categories=Object(o["a"])(Object(o["a"])({},e.categories),{},Object(g["a"])({},e.selectedData,Object.freeze(r)))}e.xAxis=Object.freeze(a)},ADD_Y_AXIS:function(e,t){var a=e.yAxis.concat();t.forEach((function(e){-1===a.indexOf(e)&&a.push(e)})),a.sort(),e.yAxis=Object.freeze(a)},REMOVE_Y_AXIS:function(e,t){var a=e.yAxis.concat(),n=a.indexOf(t);if(-1!==n){a.splice(n,1);var r=e.categories[e.selectedData].concat(t);r.sort(),e.categories=Object(o["a"])(Object(o["a"])({},e.categories),{},Object(g["a"])({},e.selectedData,Object.freeze(r)))}e.yAxis=Object.freeze(a)},SET_SELECTED_CHART_TYPE:function(e,t){return e.selectedChartType=t}},actions:{SET_SELECTED_DATA:function(e,t){return e.commit("SET_SELECTED_DATA",t)},SET_SELECTED_CATEGORY:function(e,t){return e.commit("SET_SELECTED_CATEGORY",t)},REMOVE_SELECTED_CATEGORY:function(e,t){return e.commit("REMOVE_SELECTED_CATEGORY",t)},CLEAR_SELECTED_CATEGORY:function(e){return e.commit("CLEAR_SELECTED_CATEGORY")},ADD_X_AXIS:function(e,t){return e.commit("ADD_X_AXIS",t)},REMOVE_X_AXIS:function(e,t){return e.commit("REMOVE_X_AXIS",t)},ADD_Y_AXIS:function(e,t){return e.commit("ADD_Y_AXIS",t)},REMOVE_Y_AXIS:function(e,t){return e.commit("REMOVE_Y_AXIS",t)},SET_SELECTED_CHART_TYPE:function(e,t){return e.commit("SET_SELECTED_CHART_TYPE",t)}}}),D=a("ecee"),R=a("ad3d"),w=a("c074");a("a766");n["a"].component("font-awesome-icon",R["a"]),D["c"].add(w["c"],w["b"],w["a"],w["d"]),n["a"].config.productionTip=!1,new n["a"]({store:x,render:function(e){return e(S)}}).$mount("#app")},"85ec":function(e,t,a){},a766:function(e,t,a){}});
//# sourceMappingURL=app.ce2c3c6f.js.map